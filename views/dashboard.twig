{% extends "layout.twig" %}

{% block content %}
<div class="page-header">
    <h1>Dashboard</h1>
</div>
<p>Light usage over the past 30 days:</p>
<div id="graph" class="graph-stream-usage"></div>
<hr/>
<p>Events over the past 60 minutes:</p>
<div id="events" class="graph-events"></div>
<hr/>
<div class="row">
    <div class="col-md-4">
        <h3>Events</h3>
        {% for state in states %}
            <div class="row">
                <div class="col-xs-6">
                    <p><span class="text-muted">{{ state.recorded }}</span></p>
                </div>
                <div class="col-xs-6">
                    <p>{{ state.state|capitalize }} {{ state.beacon }}</p>
                </div>
            </div>
        {% endfor %}
    </div>
    <div class="col-md-8">
        <h3>RSSI</h3>
        <p>Signal strength over the last 60 minutes:</p>
        <div id="beacons" class="graph-stream-rssi"></div>
    </div>
</div>

{%  endblock %}

{%  block footer %}
<script src="{{ app.request.baseUrl }}/js/dashboard.js"></script>
{% endblock %}
